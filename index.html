<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>GilArt Chinelos Personalizados</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<style>
:root{
    --azul:#0d47a1;
    --dourado:#ffca28;
}
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:#f4f6f8;
    color:#333;
}
.hero{
    background:linear-gradient(135deg,#0d47a1,#102a43);
    padding:60px 20px;
    text-align:center;
    border-bottom:5px solid var(--dourado);
}
.hero h1{
    color:white;
    margin:0;
}
.hero p{
    color:white;
    max-width:700px;
    margin:10px auto 0;
}
.container{
    max-width:1000px;
    margin:auto;
    padding:20px;
}
.card{
    background:white;
    padding:25px;
    border-radius:15px;
    box-shadow:0 6px 15px rgba(0,0,0,.1);
    margin-bottom:25px;
}
label{font-weight:bold;}
input,select{
    width:100%;
    padding:12px;
    margin-top:6px;
    border-radius:8px;
    border:1px solid #ccc;
}
.galeria{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
    gap:15px;
    margin:30px 0;
}
.galeria img{
    width:100%;
    border-radius:12px;
}
.total{
    text-align:center;
    font-size:1.4rem;
    font-weight:bold;
    color:#2e7d32;
    margin-top:15px;
}
.btn{
    width:100%;
    padding:15px;
    font-size:1.1rem;
    border:none;
    border-radius:10px;
    cursor:pointer;
    margin-top:15px;
}
.whatsapp{background:#25d366;color:white;}
.pdf{background:var(--dourado);}
.whatsapp-fixo{
    position:fixed;
    bottom:20px;
    right:20px;
    width:60px;
    height:60px;
    background:#25d366;
    color:white;
    font-size:32px;
    border-radius:50%;
    display:flex;
    align-items:center;
    justify-content:center;
    text-decoration:none;
    z-index:999;
}
</style>
</head>

<body>

<div class="hero">
    <h1>GilArt Chinelos Personalizados</h1>
    <p id="textoHero">Chinelos personalizados de alto padr√£o para momentos inesquec√≠veis</p>
</div>

<div class="container">

<div class="card">
    <label>Tipo de Evento</label>
    <select id="evento" onchange="trocarEvento()">
        <option>Casamento</option>
        <option>Anivers√°rio Infantil</option>
        <option>Formatura</option>
    </select>
</div>

<div class="galeria">
    <img src="./chinelo-casamento.png">
    <img src="./chinelo-luxo.jpg">
    <img src="./kit-chinelo-sacola.png">
</div>

<div class="card" id="areaPDF" style="background:white;">

    <div style="text-align:center;margin-bottom:15px;">
        <h2 style="color:var(--azul);">Or√ßamento de Chinelos</h2>
    </div>

    <label>Nome do Cliente</label>
    <input id="nome">

    <label>Quantidade de pares</label>
    <input type="number" id="qtd" value="20">

    <label>Modelo</label>
    <select id="modelo">
        <option value="30">Simples ‚Äì R$30</option>
        <option value="40">Personalizado ‚Äì R$40</option>
        <option value="55">Luxo ‚Äì R$55</option>
    </select>

    <div class="total" id="total">Total: R$ 0,00</div>

</div>

<button class="btn whatsapp" onclick="enviarWhats()">üì≤ Enviar no WhatsApp</button>
<button class="btn pdf" onclick="gerarPDF()">üñ®Ô∏è Gerar PDF</button>

</div>

<a href="https://wa.me/5579999145044" class="whatsapp-fixo" target="_blank">üí¨</a>

<script>
function calcular(){
    let total = qtd.value * modelo.value;
    totalDiv.innerText = "Total: R$ " + total.toFixed(2).replace(".",",");
}
const qtd = document.getElementById("qtd");
const modelo = document.getElementById("modelo");
const totalDiv = document.getElementById("total");
[qtd,modelo].forEach(e=>e.addEventListener("input",calcular));
calcular();

function trocarEvento(){
    const textos = {
        "Casamento":"Eleg√¢ncia e carinho para agradecer seus convidados.",
        "Anivers√°rio Infantil":"Cores, divers√£o e personagens que encantam.",
        "Formatura":"Um brinde inesquec√≠vel para marcar sua conquista."
    };
    textoHero.innerText = textos[evento.value];
}
</script>

<!-- GOOGLE SHEETS SAVE -->
<script>
const SHEETS_URL = "https://script.google.com/macros/s/AKfycbyyHhlYtHXv09cU-t7Das1R74UezjwfcjDrYK82hvwmGI1cTSfa17NnsPGlaN1DOFRV-A/exec";

function salvarPedidoSheets(){
    fetch(SHEETS_URL,{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({
            nome: nome.value || "N√£o informado",
            evento: evento.value,
            quantidade: qtd.value,
            modelo: modelo.options[modelo.selectedIndex].text,
            valor: totalDiv.innerText
        })
    }).catch(err=>console.log("Erro Sheets",err));
}

function enviarWhats(){
    salvarPedidoSheets();

    let msg =
`Ol√°! Quero um or√ßamento de chinelos personalizados.

Evento: ${evento.value}
Nome: ${nome.value}
Quantidade: ${qtd.value}
${totalDiv.innerText}`;

    window.open(
        "https://wa.me/5579999145044?text=" + encodeURIComponent(msg),
        "_blank"
    );
}

function gerarPDF(){

    const element = document.getElementById("areaPDF");

    html2pdf().set({
        margin: 10,
        filename: "orcamento-gilart.pdf",
        html2canvas:{
            scale: 2,
            useCORS:true,
            allowTaint:true
        },
        jsPDF:{
            unit: "mm",
            format: "a4",
            orientation: "portrait"
        }
    }).from(element).save();
}
</script>

</body>
</html>
